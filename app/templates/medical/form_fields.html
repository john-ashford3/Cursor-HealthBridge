<div class="dynamic-form-entry position-relative border rounded p-3 mb-3">
    <button type="button" class="btn-close position-absolute top-0 end-0 m-2" 
            onclick="removeFormField(this)"></button>
    
    {% if field_type == 'surgery' %}
        <div class="row g-3">
            <div class="col-md-6">
                {{ form.procedure_name.label(class="form-label") }}
                {{ form.procedure_name(class="form-control") }}
            </div>
            <div class="col-md-6">
                {{ form.date.label(class="form-label") }}
                {{ form.date(class="form-control") }}
            </div>
            <div class="col-md-6">
                {{ form.hospital.label(class="form-label") }}
                {{ form.hospital(class="form-control") }}
            </div>
            <div class="col-md-6">
                {{ form.surgeon.label(class="form-label") }}
                {{ form.surgeon(class="form-control") }}
            </div>
            <div class="col-12">
                {{ form.notes.label(class="form-label") }}
                {{ form.notes(class="form-control") }}
            </div>
        </div>
    
    {% elif field_type == 'medication' %}
        <div class="row g-3">
            <div class="col-md-6">
                {{ form.name.label(class="form-label") }}
                {{ form.name(class="form-control") }}
            </div>
            <div class="col-md-6">
                {{ form.dosage.label(class="form-label") }}
                {{ form.dosage(class="form-control") }}
            </div>
            <div class="col-md-6">
                {{ form.frequency.label(class="form-label") }}
                {{ form.frequency(class="form-control") }}
            </div>
            <div class="col-md-6">
                {{ form.reason.label(class="form-label") }}
                {{ form.reason(class="form-control") }}
            </div>
            <div class="col-md-6">
                {{ form.start_date.label(class="form-label") }}
                {{ form.start_date(class="form-control") }}
            </div>
            <div class="col-md-6">
                {{ form.end_date.label(class="form-label") }}
                {{ form.end_date(class="form-control") }}
            </div>
            <div class="col-12">
                <div class="form-check">
                    {{ form.is_current(class="form-check-input") }}
                    {{ form.is_current.label(class="form-check-label") }}
                </div>
            </div>
        </div>
    
    {% elif field_type == 'allergy' %}
        <div class="row g-3">
            <div class="col-md-6">
                {{ form.allergen.label(class="form-label") }}
                {{ form.allergen(class="form-control") }}
            </div>
            <div class="col-md-6">
                {{ form.reaction.label(class="form-label") }}
                {{ form.reaction(class="form-control") }}
            </div>
            <div class="col-md-6">
                {{ form.severity.label(class="form-label") }}
                {{ form.severity(class="form-select") }}
            </div>
            <div class="col-md-6">
                {{ form.diagnosed_date.label(class="form-label") }}
                {{ form.diagnosed_date(class="form-control") }}
            </div>
        </div>
    
    {% elif field_type == 'immunization' %}
        <div class="row g-3">
            <div class="col-md-6">
                {{ form.vaccine_name.label(class="form-label") }}
                {{ form.vaccine_name(class="form-control") }}
            </div>
            <div class="col-md-6">
                {{ form.date_administered.label(class="form-label") }}
                {{ form.date_administered(class="form-control") }}
            </div>
            <div class="col-md-6">
                {{ form.provider.label(class="form-label") }}
                {{ form.provider(class="form-control") }}
            </div>
            <div class="col-md-6">
                {{ form.lot_number.label(class="form-label") }}
                {{ form.lot_number(class="form-control") }}
            </div>
            <div class="col-md-6">
                {{ form.next_due_date.label(class="form-label") }}
                {{ form.next_due_date(class="form-control") }}
            </div>
        </div>
    
    {% elif field_type == 'family_member' %}
        <div class="row g-3">
            <div class="col-md-6">
                {{ form.relationship.label(class="form-label") }}
                {{ form.relationship(class="form-control") }}
            </div>
            <div class="col-md-6">
                {{ form.age.label(class="form-label") }}
                {{ form.age(class="form-control") }}
            </div>
            <div class="col-md-6">
                {{ form.living_status.label(class="form-label") }}
                {{ form.living_status(class="form-select") }}
            </div>
            <div class="col-12">
                {{ form.medical_conditions.label(class="form-label") }}
                {{ form.medical_conditions(class="form-control") }}
            </div>
            <div class="col-md-6">
                {{ form.cause_of_death.label(class="form-label") }}
                {{ form.cause_of_death(class="form-control") }}
            </div>
            <div class="col-md-6">
                {{ form.age_at_death.label(class="form-label") }}
                {{ form.age_at_death(class="form-control") }}
            </div>
        </div>
    {% endif %}
</div> 